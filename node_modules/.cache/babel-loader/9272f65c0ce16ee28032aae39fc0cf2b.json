{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/aatf-views-very-last/src/views/admin/domains/_form.tsx\";\nimport React, { useState } from \"react\";\nimport { useMutate } from \"restful-react\";\nimport { useHistory } from \"react-router-dom\";\nimport Loading from \"components/Loading\";\nimport { Button, Card, Form, FormGroup, Label, Col, Input } from \"reactstrap\";\nexport default function DomainForm(props) {\n  const history = useHistory();\n  const [domain, setDomain] = useState({ ...props.domain\n  });\n  const path = domain._id === undefined ? `/domaines` : `/domaines/${domain._id}`;\n\n  const SubmitDomain = () => {\n    const {\n      mutate,\n      loading,\n      error\n    } = useMutate({\n      verb: props.method,\n      path: path\n    });\n\n    const submit = e => {\n      e.preventDefault();\n      mutate({\n        nameD: domain.nameD,\n        description: domain.description\n      }).then(() => history.push(\"/admin/domains\"));\n    };\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 7\n      }\n    }, error && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 19\n      }\n    }, error.message), loading && /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }\n    }), !loading && /*#__PURE__*/React.createElement(Button, {\n      onClick: submit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 22\n      }\n    }, \"Submit\"));\n  };\n\n  return /*#__PURE__*/React.createElement(Card, {\n    className: \"content-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    row: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"domainName\",\n    sm: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(Col, {\n    sm: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    autoFocus: true,\n    id: \"domainName\",\n    value: domain.nameD,\n    onChange: e => setDomain({ ...domain,\n      nameD: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    row: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"domainDescription\",\n    sm: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(Col, {\n    sm: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"domainDescription\",\n    type: \"textarea\",\n    value: domain.description,\n    onChange: e => setDomain({ ...domain,\n      description: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(SubmitDomain, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/mac/Desktop/aatf-views-very-last/src/views/admin/domains/_form.tsx"],"names":["React","useState","useMutate","useHistory","Loading","Button","Card","Form","FormGroup","Label","Col","Input","DomainForm","props","history","domain","setDomain","path","_id","undefined","SubmitDomain","mutate","loading","error","verb","method","submit","e","preventDefault","nameD","description","then","push","message","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Domain } from \"models/database\";\r\nimport { useMutate } from \"restful-react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Loading from \"components/Loading\";\r\nimport { Button, Card, Form, FormGroup, Label, Col, Input } from \"reactstrap\";\r\n\r\ninterface FormProps {\r\n  domain: Domain;\r\n  method: \"POST\" | \"PATCH\";\r\n}\r\n\r\nexport default function DomainForm(props: FormProps) {\r\n  const history = useHistory();\r\n\r\n  const [domain, setDomain] = useState({ ...props.domain });\r\n\r\n  const path =\r\n    domain._id === undefined ? `/domaines` : `/domaines/${domain._id}`;\r\n\r\n  const SubmitDomain = () => {\r\n    const { mutate, loading, error } = useMutate({\r\n      verb: props.method,\r\n      path: path,\r\n    });\r\n\r\n    const submit = (e: React.MouseEvent) => {\r\n      e.preventDefault();\r\n      mutate({\r\n        nameD: domain.nameD,\r\n        description: domain.description,\r\n      }).then(() => history.push(\"/admin/domains\"));\r\n    };\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {error && <p>{error.message}</p>}\r\n        {loading && <Loading />}\r\n        {!loading && <Button onClick={submit}>Submit</Button>}\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Card className='content-card'>\r\n      <Form>\r\n        <FormGroup row>\r\n          <Label for='domainName' sm={2}>\r\n            Name\r\n          </Label>\r\n          <Col sm={10}>\r\n            <Input\r\n              autoFocus\r\n              id='domainName'\r\n              value={domain.nameD}\r\n              onChange={(e) => setDomain({ ...domain, nameD: e.target.value })}\r\n            />\r\n          </Col>\r\n        </FormGroup>\r\n        <FormGroup row>\r\n          <Label for='domainDescription' sm={2}>\r\n            Description\r\n          </Label>\r\n          <Col sm={10}>\r\n            <Input\r\n              id='domainDescription'\r\n              type='textarea'\r\n              value={domain.description}\r\n              onChange={(e) =>\r\n                setDomain({ ...domain, description: e.target.value })\r\n              }\r\n            />\r\n          </Col>\r\n        </FormGroup>\r\n        <SubmitDomain />\r\n      </Form>\r\n    </Card>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}