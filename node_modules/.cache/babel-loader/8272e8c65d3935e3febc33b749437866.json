{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/aatf-views-very-last/src/views/website/Processes/show.tsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { useGet } from \"restful-react\";\nimport _ from \"lodash\";\nimport Loading from \"components/Loading\";\nimport Heading from \"components/Heading\";\nimport { List as ListDomains } from \"../Domains/index\";\nimport { List as ListTables } from \"../Tables/index\";\nimport { useParams } from \"react-router-dom\";\nimport { ButtonGroup, Button } from \"reactstrap\";\nexport default function Show() {\n  const {\n    id\n  } = useParams();\n  const {\n    data: process,\n    loading\n  } = useGet(`/processus/${id}`);\n  const [filterDom, setFilterDom] = useState([]);\n  const [filterTab, setFilterTab] = useState([]);\n  const [searchDom, setSearchDom] = useState(\"\");\n  const [searchTab, setSearchTab] = useState(\"\");\n  const [showTab, setShowTab] = useState(1);\n  useEffect(() => {\n    if (process) setFilterDom(process.domaines.filter(d => _.includes(d.nameD + d.description, searchDom)));\n  }, [process, searchDom]);\n  useEffect(() => {\n    if (process && process.tables !== undefined) setFilterTab(process.tables.filter(t => _.includes(t.nameT + t.description, searchTab)));\n  }, [process, searchTab]);\n\n  const ButtonNav = props => /*#__PURE__*/React.createElement(Button, {\n    className: showTab === props.nav ? \"nav-active\" : \"nav-blank\",\n    onClick: () => setShowTab(props.nav),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, props.children);\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, loading && /*#__PURE__*/React.createElement(Loading, {\n    centerScreen: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 19\n    }\n  }, \"Loading processus...\"), process && /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    header: process.nameP,\n    content: \"Processus\",\n    description: process.description,\n    component: /*#__PURE__*/React.createElement(ButtonGroup, {\n      size: \"sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ButtonNav, {\n      nav: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, \"Domaines\"), /*#__PURE__*/React.createElement(ButtonNav, {\n      nav: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, \"Tables\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }), showTab === 1 && /*#__PURE__*/React.createElement(ListDomains, {\n    filtered: filterDom,\n    setSearch: setSearchDom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }), showTab === 2 && /*#__PURE__*/React.createElement(ListTables, {\n    filtered: filterTab,\n    setSearch: setSearchTab,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/mac/Desktop/aatf-views-very-last/src/views/website/Processes/show.tsx"],"names":["React","useState","useEffect","useGet","_","Loading","Heading","List","ListDomains","ListTables","useParams","ButtonGroup","Button","Show","id","data","process","loading","filterDom","setFilterDom","filterTab","setFilterTab","searchDom","setSearchDom","searchTab","setSearchTab","showTab","setShowTab","domaines","filter","d","includes","nameD","description","tables","undefined","t","nameT","ButtonNav","props","nav","children","nameP"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, FunctionComponent } from \"react\";\r\nimport { useGet } from \"restful-react\";\r\nimport { Process, Table, Domain } from \"models/database\";\r\nimport _ from \"lodash\";\r\nimport Loading from \"components/Loading\";\r\nimport Heading from \"components/Heading\";\r\n\r\nimport { List as ListDomains } from \"../Domains/index\";\r\nimport { List as ListTables } from \"../Tables/index\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { ButtonGroup, Button } from \"reactstrap\";\r\n\r\nexport default function Show() {\r\n  const { id } = useParams();\r\n  const { data: process, loading } = useGet<Process>(`/processus/${id}`);\r\n\r\n  const [filterDom, setFilterDom] = useState<Domain[]>([]);\r\n  const [filterTab, setFilterTab] = useState<Table[]>([]);\r\n\r\n  const [searchDom, setSearchDom] = useState(\"\");\r\n  const [searchTab, setSearchTab] = useState(\"\");\r\n\r\n  const [showTab, setShowTab] = useState(1);\r\n\r\n  useEffect(() => {\r\n    if (process)\r\n      setFilterDom(\r\n        process.domaines.filter((d) =>\r\n          _.includes(d.nameD + d.description, searchDom)\r\n        )\r\n      );\r\n  }, [process, searchDom]);\r\n\r\n  useEffect(() => {\r\n    if (process && process.tables !== undefined)\r\n      setFilterTab(\r\n        process.tables.filter((t) =>\r\n          _.includes(t.nameT + t.description, searchTab)\r\n        )\r\n      );\r\n  }, [process, searchTab]);\r\n\r\n  const ButtonNav: FunctionComponent<{ nav: number }> = (props) => (\r\n    <Button\r\n      className={showTab === props.nav ? \"nav-active\" : \"nav-blank\"}\r\n      onClick={() => setShowTab(props.nav)}\r\n    >\r\n      {props.children}\r\n    </Button>\r\n  );\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {loading && <Loading centerScreen>Loading processus...</Loading>}\r\n      {process && (\r\n        <React.Fragment>\r\n          <Heading\r\n            header={process.nameP}\r\n            content='Processus'\r\n            description={process.description}\r\n            component={\r\n              <ButtonGroup size='sm'>\r\n                <ButtonNav nav={1}>Domaines</ButtonNav>\r\n                <ButtonNav nav={2}>Tables</ButtonNav>\r\n              </ButtonGroup>\r\n            }\r\n          />\r\n          {showTab === 1 && (\r\n            <ListDomains filtered={filterDom} setSearch={setSearchDom} />\r\n          )}\r\n          {showTab === 2 && (\r\n            <ListTables filtered={filterTab} setSearch={setSearchTab} />\r\n          )}\r\n        </React.Fragment>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}