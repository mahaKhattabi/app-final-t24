{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/aatf-views-very-last/src/views/admin/users/_form.tsx\";\nimport React, { useState } from \"react\";\nimport { useMutate } from \"restful-react\";\nimport { useHistory } from \"react-router-dom\";\nimport Loading from \"components/Loading\";\nimport { Button, Card, Form, FormGroup, Label, Col, Input } from \"reactstrap\";\nexport default function UserForm(props) {\n  const history = useHistory();\n  const [user, setUser] = useState({ ...props.user\n  });\n  const path = user._id === undefined ? `/users` : `/users/${user._id}`;\n\n  const SubmitUser = () => {\n    const {\n      mutate,\n      loading,\n      error\n    } = useMutate({\n      verb: props.method,\n      path: path\n    });\n\n    const submit = e => {\n      e.preventDefault();\n      mutate({\n        matricule: user.matricule,\n        prenom: user.prenom,\n        nom: user.nom,\n        email: user.email,\n        domaine: user.domaine,\n        password: user.password,\n        role: user.role\n      }).then(() => history.push(\"/admin/users\"));\n    };\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }\n    }, error && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 19\n      }\n    }, error.message), loading && /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }\n    }), !loading && /*#__PURE__*/React.createElement(Button, {\n      onClick: submit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 22\n      }\n    }, \"Submit\"));\n  };\n\n  const changeRole = e => setUser({ ...user,\n    role: e.target.value\n  });\n\n  return /*#__PURE__*/React.createElement(Card, {\n    className: \"content-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    row: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"userMatricule\",\n    sm: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, \"Matricule\"), /*#__PURE__*/React.createElement(Col, {\n    sm: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"userMatricule\",\n    value: user.matricule,\n    autoFocus: user._id === undefined,\n    disabled: user._id !== undefined,\n    onChange: e => setUser({ ...user,\n      matricule: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    row: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"userPrenom\",\n    sm: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, \"Prenom\"), /*#__PURE__*/React.createElement(Col, {\n    sm: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"userPrenom\",\n    value: user.prenom,\n    autoFocus: user._id !== undefined,\n    onChange: e => setUser({ ...user,\n      prenom: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    row: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"userNom\",\n    sm: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, \"Nom\"), /*#__PURE__*/React.createElement(Col, {\n    sm: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"userNom\",\n    value: user.nom,\n    onChange: e => setUser({ ...user,\n      nom: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    row: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"userEmail\",\n    sm: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(Col, {\n    sm: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"userEmail\",\n    value: user.email,\n    disabled: user._id !== undefined,\n    onChange: e => setUser({ ...user,\n      email: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    row: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"userDomaine\",\n    sm: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, \"Domaine\"), /*#__PURE__*/React.createElement(Col, {\n    sm: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"userDomaine\",\n    value: user.domaine,\n    onChange: e => setUser({ ...user,\n      domaine: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    row: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"userPassword\",\n    sm: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Col, {\n    sm: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"userPassword\",\n    value: user.password,\n    disabled: user._id !== undefined,\n    onChange: e => setUser({ ...user,\n      password: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    row: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    sm: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, \"Role\"), /*#__PURE__*/React.createElement(Col, {\n    sm: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    check: true,\n    inline: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    check: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"radio\",\n    value: \"admin\",\n    checked: user.role === \"admin\",\n    onChange: changeRole,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }), \" \", \"Admin\")), /*#__PURE__*/React.createElement(FormGroup, {\n    check: true,\n    inline: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    check: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"radio\",\n    value: \"atf\",\n    checked: user.role === \"atf\",\n    onChange: changeRole,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }), \" \", \"Atf\")))), /*#__PURE__*/React.createElement(SubmitUser, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/mac/Desktop/aatf-views-very-last/src/views/admin/users/_form.tsx"],"names":["React","useState","useMutate","useHistory","Loading","Button","Card","Form","FormGroup","Label","Col","Input","UserForm","props","history","user","setUser","path","_id","undefined","SubmitUser","mutate","loading","error","verb","method","submit","e","preventDefault","matricule","prenom","nom","email","domaine","password","role","then","push","message","changeRole","target","value"],"mappings":"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","sourcesContent":["import React, { useState, ChangeEvent } from \"react\";\r\nimport { useMutate } from \"restful-react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Loading from \"components/Loading\";\r\nimport { Button, Card, Form, FormGroup, Label, Col, Input } from \"reactstrap\";\r\nimport { User } from \"models/user\";\r\n\r\ninterface FormProps {\r\n  user: User;\r\n  method: \"POST\" | \"PATCH\";\r\n}\r\n\r\nexport default function UserForm(props: FormProps) {\r\n  const history = useHistory();\r\n\r\n  const [user, setUser] = useState({ ...props.user });\r\n\r\n  const path = user._id === undefined ? `/users` : `/users/${user._id}`;\r\n\r\n  const SubmitUser = () => {\r\n    const { mutate, loading, error } = useMutate({\r\n      verb: props.method,\r\n      path: path,\r\n    });\r\n\r\n    const submit = (e: React.MouseEvent) => {\r\n      e.preventDefault();\r\n      mutate({\r\n        matricule: user.matricule,\r\n        prenom: user.prenom,\r\n        nom: user.nom,\r\n        email: user.email,\r\n        domaine: user.domaine,\r\n        password: user.password,\r\n        role: user.role,\r\n      }).then(() => history.push(\"/admin/users\"));\r\n    };\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {error && <p>{error.message}</p>}\r\n        {loading && <Loading />}\r\n        {!loading && <Button onClick={submit}>Submit</Button>}\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  const changeRole = (e: ChangeEvent<HTMLInputElement>) =>\r\n    setUser({ ...user, role: e.target.value });\r\n\r\n  return (\r\n    <Card className='content-card'>\r\n      <Form>\r\n        <FormGroup row>\r\n          <Label for='userMatricule' sm={2}>\r\n            Matricule\r\n          </Label>\r\n          <Col sm={10}>\r\n            <Input\r\n              id='userMatricule'\r\n              value={user.matricule}\r\n              autoFocus={user._id === undefined}\r\n              disabled={user._id !== undefined}\r\n              onChange={(e) => setUser({ ...user, matricule: e.target.value })}\r\n            />\r\n          </Col>\r\n        </FormGroup>\r\n\r\n        <FormGroup row>\r\n          <Label for='userPrenom' sm={2}>\r\n            Prenom\r\n          </Label>\r\n          <Col sm={10}>\r\n            <Input\r\n              id='userPrenom'\r\n              value={user.prenom}\r\n              autoFocus={user._id !== undefined}\r\n              onChange={(e) => setUser({ ...user, prenom: e.target.value })}\r\n            />\r\n          </Col>\r\n        </FormGroup>\r\n\r\n        <FormGroup row>\r\n          <Label for='userNom' sm={2}>\r\n            Nom\r\n          </Label>\r\n          <Col sm={10}>\r\n            <Input\r\n              id='userNom'\r\n              value={user.nom}\r\n              onChange={(e) => setUser({ ...user, nom: e.target.value })}\r\n            />\r\n          </Col>\r\n        </FormGroup>\r\n\r\n        <FormGroup row>\r\n          <Label for='userEmail' sm={2}>\r\n            Email\r\n          </Label>\r\n          <Col sm={10}>\r\n            <Input\r\n              id='userEmail'\r\n              value={user.email}\r\n              disabled={user._id !== undefined}\r\n              onChange={(e) => setUser({ ...user, email: e.target.value })}\r\n            />\r\n          </Col>\r\n        </FormGroup>\r\n\r\n        <FormGroup row>\r\n          <Label for='userDomaine' sm={2}>\r\n            Domaine\r\n          </Label>\r\n          <Col sm={10}>\r\n            <Input\r\n              id='userDomaine'\r\n              value={user.domaine}\r\n              onChange={(e) => setUser({ ...user, domaine: e.target.value })}\r\n            />\r\n          </Col>\r\n        </FormGroup>\r\n\r\n        <FormGroup row>\r\n          <Label for='userPassword' sm={2}>\r\n            Password\r\n          </Label>\r\n          <Col sm={10}>\r\n            <Input\r\n              id='userPassword'\r\n              value={user.password}\r\n              disabled={user._id !== undefined}\r\n              onChange={(e) => setUser({ ...user, password: e.target.value })}\r\n            />\r\n          </Col>\r\n        </FormGroup>\r\n\r\n        <FormGroup row>\r\n          <Label sm={2}>Role</Label>\r\n          <Col sm={10}>\r\n            <FormGroup check inline>\r\n              <Label check>\r\n                <Input\r\n                  type='radio'\r\n                  value='admin'\r\n                  checked={user.role === \"admin\"}\r\n                  onChange={changeRole}\r\n                />{\" \"}\r\n                Admin\r\n              </Label>\r\n            </FormGroup>\r\n            <FormGroup check inline>\r\n              <Label check>\r\n                <Input\r\n                  type='radio'\r\n                  value='atf'\r\n                  checked={user.role === \"atf\"}\r\n                  onChange={changeRole}\r\n                />{\" \"}\r\n                Atf\r\n              </Label>\r\n            </FormGroup>\r\n          </Col>\r\n        </FormGroup>\r\n\r\n        <SubmitUser />\r\n      </Form>\r\n    </Card>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}