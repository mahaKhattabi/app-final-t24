{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/aatf-views-very-last/src/views/admin/processes/_form.tsx\";\nimport React, { useState } from \"react\";\nimport { useMutate } from \"restful-react\";\nimport { useHistory } from \"react-router-dom\";\nimport Loading from \"components/Loading\";\nimport { Button, Card, Form, FormGroup, Label, Col, Input } from \"reactstrap\";\nexport default function ProcessForm(props) {\n  const history = useHistory();\n  const [process, setProcess] = useState({ ...props.process\n  });\n  const path = process._id === undefined ? `/processus` : `/processus/${process._id}`;\n\n  const SubmitProcess = () => {\n    const {\n      mutate,\n      loading,\n      error\n    } = useMutate({\n      verb: props.method,\n      path: path\n    });\n\n    const submit = e => {\n      e.preventDefault();\n      mutate({\n        nameP: process.nameP,\n        description: process.description\n      }).then(() => history.push(\"/admin/process\"));\n    };\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 7\n      }\n    }, error && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 19\n      }\n    }, error.message), loading && /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }\n    }), !loading && /*#__PURE__*/React.createElement(Button, {\n      onClick: submit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 22\n      }\n    }, \"Submit\"));\n  };\n\n  return /*#__PURE__*/React.createElement(Card, {\n    className: \"content-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    row: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"processName\",\n    sm: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(Col, {\n    sm: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    autoFocus: true,\n    id: \"processName\",\n    value: process.nameP,\n    onChange: e => setProcess({ ...process,\n      nameP: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    row: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"processDescription\",\n    sm: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(Col, {\n    sm: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"processDescription\",\n    type: \"textarea\",\n    value: process.description,\n    onChange: e => setProcess({ ...process,\n      description: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(SubmitProcess, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/mac/Desktop/aatf-views-very-last/src/views/admin/processes/_form.tsx"],"names":["React","useState","useMutate","useHistory","Loading","Button","Card","Form","FormGroup","Label","Col","Input","ProcessForm","props","history","process","setProcess","path","_id","undefined","SubmitProcess","mutate","loading","error","verb","method","submit","e","preventDefault","nameP","description","then","push","message","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useMutate } from \"restful-react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Loading from \"components/Loading\";\r\nimport { Button, Card, Form, FormGroup, Label, Col, Input } from \"reactstrap\";\r\nimport { Process } from \"models/database\";\r\n\r\ninterface FormProps {\r\n  process: Process;\r\n  method: \"POST\" | \"PATCH\";\r\n}\r\n\r\nexport default function ProcessForm(props: FormProps) {\r\n  const history = useHistory();\r\n\r\n  const [process, setProcess] = useState({ ...props.process });\r\n\r\n  const path =\r\n    process._id === undefined ? `/processus` : `/processus/${process._id}`;\r\n\r\n  const SubmitProcess = () => {\r\n    const { mutate, loading, error } = useMutate({\r\n      verb: props.method,\r\n      path: path,\r\n    });\r\n\r\n    const submit = (e: React.MouseEvent) => {\r\n      e.preventDefault();\r\n      mutate({\r\n        nameP: process.nameP,\r\n        description: process.description,\r\n      }).then(() => history.push(\"/admin/process\"));\r\n    };\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {error && <p>{error.message}</p>}\r\n        {loading && <Loading />}\r\n        {!loading && <Button onClick={submit}>Submit</Button>}\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Card className='content-card'>\r\n      <Form>\r\n        <FormGroup row>\r\n          <Label for='processName' sm={2}>\r\n            Name\r\n          </Label>\r\n          <Col sm={10}>\r\n            <Input\r\n              autoFocus\r\n              id='processName'\r\n              value={process.nameP}\r\n              onChange={(e) =>\r\n                setProcess({ ...process, nameP: e.target.value })\r\n              }\r\n            />\r\n          </Col>\r\n        </FormGroup>\r\n        <FormGroup row>\r\n          <Label for='processDescription' sm={2}>\r\n            Description\r\n          </Label>\r\n          <Col sm={10}>\r\n            <Input\r\n              id='processDescription'\r\n              type='textarea'\r\n              value={process.description}\r\n              onChange={(e) =>\r\n                setProcess({ ...process, description: e.target.value })\r\n              }\r\n            />\r\n          </Col>\r\n        </FormGroup>\r\n        <SubmitProcess />\r\n      </Form>\r\n    </Card>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}